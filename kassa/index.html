<!DOCTYPE html>
<html lang="en">
<head>
    <title>PyroDesk</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.21/css/dataTables.bootstrap4.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="/assets/js/myscripts.js"></script>
    <script src="/assets/products/sample_products.json"></script>
    <script src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.21/js/dataTables.bootstrap4.min.js"></script>
    <link rel="stylesheet" href="/assets/css/style.css">
</head>
<body>

<!--header-->
<nav class="navbar navbar-light justify-content-between" >
    <a class="navbar-brand" href="#" style="position: absolute; left: 0;">
        <img src="assets/images/PyroDesk.png" width="200" height="50" alt="">
    </a>
    <div class="col-12 logOutBtn">
        <i class="fa  fa-sign-out-alt"></i> Log Out
    </div>
</nav>
<!--header-->

<div class="container-fluid">
    <div class="row">
        <div class="col-8 shoppingSection">
            <!--toggle bar-->
            <div class="row">
                <div class="col-12 toggleBar">
                    <button id="toggleBtn" onclick="toggle()">Keyboard View</button>
                </div>
            </div>
            <!--/toggle bar-->

            <div class="row touchViewSection">
                <!-- shopping sector -->
                <!-- touchView -->
                <!-- categories menu -->
                <div class="col-3 categoriesSection">
                    <div class="categories">
                        <p style="background-color: white; margin-bottom: 0px" > Categories </p>
                        <a href="#" class="nav-link" id="all">All</a>
                        <a href="#" class="nav-link" id="black-thunder">Black-thunder</a>
                        <a href="#" class="nav-link" id="blue-eagle-fireworks">Blue-eagle-fireworks</a>
                        <a href="#" class="nav-link" id="crystal-exclusive">Crystal-exclusive</a>
                        <a href="#" class="nav-link" id="empire-fireworks">Empire-fireworks</a>
                        <a href="#" class="nav-link" id="grondbloemen">Grondbloemen</a>
                    </div>
                </div>

                <!-- categories menu -->
<!--                <p style="background-color: white; margin-bottom: 0px" > Products </p>-->
                <div class="col-9 productItems" >
                    <br>
                    <div class="row" id="touchViewProducts">

                    </div>
                </div>
            </div>
            <!--/touchView -->
            <!--Keyboard View -->
            <div class="row keyboardViewSection">
                <div class="col-12 keyboardViewRow">
                    <table id="data-table" class="table table-bordered" style="width: 100%;">
                        <thead id="tableHead">
                        <tr>
                            <th> # </th>
                            <th> Product name </th>
                            <th> Free Stock </th>
                            <th> Price </th>
                            <th> Action </th>
                        </tr>
                        </thead>
                    </table>
                </div>
            </div>
            <!--/Keyboard View -->
            <div class="footer">
                <div class="container">
                    <p class="text-muted"> Developed by Vesta Group</p>
                </div>
            </div>
        </div>
        <!--/shopping sector-->
        <div class="col-4 cartSection">
            <!--cart-->
            <div class="row">
                <div class="col-5">Product</div>
                <div class="col-1">Pcs.</div>
                <div class="col-2">Price</div>
                <div class="col-3">Total</div>
            </div>
            <hr style="background-color: white;">

            <div class="row cartCheck">
                <div class="col-5">Number of products</div>
                <div class="col-1">1</div>
                <div class="col-2">Subtotal</div>
                <div class="col-3 total">&euro; 0,00</div>

                <div class="col-5"></div>
                <div class="col-1"></div>
                <div class="col-2">Total </div>
                <div class="col-3">&euro; 0,00</div>

                <div class="col-12 checkoutBtn"> Checkout </div>
                <div class="col-6 addDiscountBtn"> Add discount </div>
                <div class="col-6 cancelBtn"> Cancel </div>
            </div>
            <!--/cart-->
        </div>
    </div>
</div>

</div>
    <script>
        $.getJSON("assets/products/sample_products.json", function(data) {
            var product_data = '';
            $.each(data.data, function (key, value) {
                // console.log(data);
                product_data += '<div class="col-3 productCard">';
                product_data += '<a href="#" class="productItem">';
                product_data += '<div class="card">';
                product_data += '<img src="assets/images/Firecracker.jpg" alt="Avatar" style="width:100%; height: 8vh;">';
                product_data += '<div class="container">';
                product_data += '<p>' + value.name + '</p>';
                product_data += '</div>';
                product_data += '</div>';
                product_data += '</a>';
                product_data += '</div>';
            });
            $('#touchViewProducts').append(product_data);})
        // var shoppingCart = [];
        // $(document).ready(function() {
        //     //
        //     outputShoppingCart();
        //     $(".productItem").click(function(e){
        //         e.preventDefault();
        //         var itemInfo = $(this.dataset)[0];
        //         itemInfo.qty = 1;
        //         var itemInCart = false;
        //         $.each(shoppingCart,function(index,value){
        //             // console.log(index + ' ' + value.id);
        //             if(value.id == itemInfo.id){
        //                 value.qty = parseInt(value.qty) + parseInt(itemInfo.qty);
        //                 itemInCart = true;
        //             }
        //         })
        //         if(!itemInCart){
        //             shoppingCart.push(itemInfo);
        //         }
        //         sessionStorage["sc"]= JSON.stringify(shoppingCart)
        //         outputShoppingCart();
        //         ///
        //     })
            //add to shopping cart function
            // function outputShoppingCart(){
            //     if(sessionStorage["sc"] != null){
            //         shoppingCart = JSON.parse(sessionStorage["sc"].toString());
            //     }
            //     var holderHTML = "";
            //     var total = 0;
            //     $.each(shoppingCart,function(index,value){
            //         // console.log(value);
            //         var stotal = value.qty * value.price;
            //         var totalCount =
            //         total += stotal;
            //         holderHTML = holderHTML + '<div class="col-5">' + value.name  + '</div>' +
            //                                   '<div class="col-1">' + value.qty   + '</div>' +
            //                                   '<div class="col-2">' + formatMoney(value.price) + '</div>' +
            //                                   '<div class="col-3">' + formatMoney(stotal) + '</div>'
            //     })
            //     $('.total').html(formatMoney(total));
            //     $('#output').html(holderHTML);
            // }
    //search function
            //search function
            // $('#search').keyup(function(){
            //     $('#productTable').html('');
            //     var searchField = $('#search').val();
            //     var expression = new RegExp(searchField, "i");
            //     $.getJSON('assets/products/sample_products.json', function (data){
            //         $.each(data, function (key, value){
            //             if(value.name.search(expression) !== -1 || value.article_number.search(expression) !== -1)
            //             {
            //                 $('#productTable').append('<tr>'+
            //                  '<td>'+value.article_number+'</td>'+
            //                  '<td>'+value.name+'</td>'+
            //                  '<td>'+value.stock+'</td>'+
            //                  '<td>'+'&euro;'+ value.price+'</td>'+
            //                  '<td id="keyboardViewButtonTr">'+
            //                     '<button type=\"button\" class=\"btn addFree\">Add Free</button>'+
            //                     '<button type=\"button\" class=\"btn addToCart\">Add to Cart</button>'+
            //                     '</td>'+
            //                  '</tr>');
            //             }
            //         });
            //     });
            // });
        //     function formatMoney(n){
        //         return "&euro;" + (n/100).toFixed(2);
        //     }
        // })

    </script>
</body>
</html>